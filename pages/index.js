import Head from "next/head";
import Link from "next/link";
import Layout from "../components/Layout";
import Years from "../types/Years";

export default function Home({ years }) {
  return (
    <Layout years={years}>
      <Head>
        <title>Vulnerability data</title>
        <meta name="description" content="Vulnerability database and API with risk rating calculators" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <h1 className="text-6xl font-bold">Vulnerability data</h1>
      <h2 className="text-3xl ml-2 ">
        by <span className="text-gray-400 font-bold">Recon</span>
        <span className="text-reconmap font-bold">map</span>
      </h2>
      <h3 className="text-xl my-10">Check the vulnerabilities reported in: </h3>
      <ul className=" flex flex-wrap gap-4 w-full ">
        {years &&
          years.map(year => (
            <li key={year} className="flex-1">
              <Link
                passHref
                href={`/${year}`}
                className="btn text-reconmap btn-block btn-xl text-5xl py-2 h-auto">
                {year}
              </Link>
            </li>
          ))}
      </ul>
      {/**
      <h3 className="text-4xl font-bold">Calculators</h3>
      <Link passHref href={`/risk-assesment-calculator/owasp-risk-rating`}>
        <a className="text-reconmap btn-block btn-xl text-3xl py-2 h-auto">OWASP risk rating</a>
      </Link><br />
      <Link passHref href={`/risk-assesment-calculator/binary-risk`}>
        <a className="text-reconmap btn-block btn-xl text-3xl py-2 h-auto">Binary risk rating</a>
      </Link><br />
      <Link passHref href={`/risk-assesment-calculator/cvss`}>
        <a className="text-reconmap btn-block btn-xl text-3xl py-2 h-auto">Common vulnerability scoring system (CVSS)</a>
      </Link>
      */}
      <div className="py-10">
        <p className="mb-5">CVE® is a list of entries—each containing an identification number, a description, and at least one public reference—for publicly known cybersecurity vulnerabilities.</p>
        <p className="mb-5">CVE Entries are used in numerous cybersecurity products and services from around the world, including the U.S. National Vulnerability Database (NVD).</p>
      </div>
    </Layout>
  );
}

export const getStaticProps = async (ctx) => {
  return {
    props: {
      years: Years.map((file) => file.match(/\d+/g)),
    },
  };
};
